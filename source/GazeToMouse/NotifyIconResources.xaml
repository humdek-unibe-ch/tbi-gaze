<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:tb="http://www.hardcodet.net/taskbar"
    xmlns:local="clr-namespace:GazeToMouse"
>

    <!--  The taskbar context menu  -->
    <ContextMenu x:Key="SysTrayMenu">
        <MenuItem
            Header="Start Calibration"
            Command="{Binding StartCalibrationCommand}"
        />
        <MenuItem
            Header="Start Validation"
            Command="{Binding StartValidationCommand}"
        />
        <MenuItem
           Header="Start Drift Compensation"
           Command="{Binding StartDriftCompensationCommand}"
        />
        <Separator />
        <MenuItem
            Header="Exit"
            Command="{Binding ExitApplicationCommand}"
        />
    </ContextMenu>


    <!--  The application's NotifyIcon - started from App.xaml.cs.  -->
    <tb:TaskbarIcon
        x:Key="NotifyIcon"
        IconSource="/butterfly.ico"
        ToolTipText="Right-click for menu"
        NoLeftClickDelay="True"
        ContextMenu="{StaticResource SysTrayMenu}"
        MenuActivation="LeftOrRightClick"
    />
</ResourceDictionary>